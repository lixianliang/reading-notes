# 8

## 进程
    
    进程为程序提供一个假象，好像程序独占操作系统处理器；进程可以通过中断、故障、陷入系统调用方式由用户态进入内核态

## 上下文切换
    
    操作系统通过上下文切换来实现多任务运行，上下文切换就是保存当前进程的上下文信息（堆栈代码相关）；恢复某个先前被抢占的进程的上下文；将控制传递给这个新恢复的进程

    中断导致上下文切换也会导致高速缓存失效，更好利用高速缓存需要减少更少的上下文切换

## fork做了什么
  
1. 调用一次fork会返回两次

1. fork之后的子进程和父进程用户级虚拟地址空间相同的一份拷贝，包括文本、数据和bss、堆和用户栈，还有打开的文件描述符


## 信号
    
    信号可能会中断进程内的系统调用，当然linux会自动重启被中断的系统调用；也可以在应用程序中处理或者通过自定义信号处理函数

### 信号处理的几个问题
1. 一个进程处理多个信号时，会出现阻塞
2. 待处理信号不会排队，任意类型信号只有一个待处理，其他待处理的同类型信息会被丢弃
3. 系统调用可以被中断，如read write accpet这样的系统调用潜在的会阻塞一段较长的时间，被中断的的系统调用在信号处理程序完成时不再继续，而是返回一个错误；当然linux系统会自动重启被中断的系统调用，为了编写可移植信号处理，可以自定义信号中断重启处理
